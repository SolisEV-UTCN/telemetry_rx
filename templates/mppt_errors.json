[{"apiVersion":"influxdata.com/v2alpha1","kind":"Dashboard","metadata":{"name":"amazing-driscoll-ad2001"},"spec":{"charts":[{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"4ZBtl8oME7sOZhYx-vdIt","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"1nK_Rwss3iTxZWVsxpzRJ","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"Nhsyr0RTEkF2WjZOR5c2K","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":5,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"MPPT1 Fault","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nires_2025\")\r\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\r\n  |> filter(fn: (r) => r[\"_measurement\"] == \"solar_vehicle\")\r\n  |> filter(fn: (r) => r[\"_field\"] == \"MPPT1_Fault\")\r\n  |> filter(fn: (r) => r[\"ecu\"] == \"MPPT1\")\r\n  //|> last()\r\n  |> map(fn: (r) => ({\r\n      r with \r\n      _value: \r\n        if (int(v: r._value) >= 128) then 8 //bit 7\r\n        else if (int(v: r._value) >= 64) then 7 //bit 6\r\n        else if (int(v: r._value) >= 32) then 6 //bit 5\r\n        else if (int(v: r._value) >= 16) then 5 //bit 4\r\n        else if (int(v: r._value) >= 8) then 4 //bit 3\r\n        else if (int(v: r._value) >= 4) then 3 //bit 2\r\n        else if (int(v: r._value) >= 2) then 2 //bit 1\r\n        else if (int(v: r._value) == 1) then 1 //bit 0\r\n        else 0 //OK\r\n    }))"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":6,"widthRatio":1,"xCol":"_time","yCol":"_value"},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"4ZBtl8oME7sOZhYx-vdIt","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"1nK_Rwss3iTxZWVsxpzRJ","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"Nhsyr0RTEkF2WjZOR5c2K","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":5,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"MPPT2 Fault","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nires_2025\")\r\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\r\n  |> filter(fn: (r) => r[\"_measurement\"] == \"solar_vehicle\")\r\n  |> filter(fn: (r) => r[\"_field\"] == \"MPPT_Fault\")\r\n  |> filter(fn: (r) => r[\"ecu\"] == \"MPPT2\")\r\n  //|> last()\r\n  |> map(fn: (r) => ({\r\n      r with \r\n      _value: \r\n        if (int(v: r._value) >= 128) then 8 //bit 7\r\n        else if (int(v: r._value) >= 64) then 7 //bit 6\r\n        else if (int(v: r._value) >= 32) then 6 //bit 5\r\n        else if (int(v: r._value) >= 16) then 5 //bit 4\r\n        else if (int(v: r._value) >= 8) then 4 //bit 3\r\n        else if (int(v: r._value) >= 4) then 3 //bit 2\r\n        else if (int(v: r._value) >= 2) then 2 //bit 1\r\n        else if (int(v: r._value) == 1) then 1 //bit 0\r\n        else 0 //OK\r\n    }))"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":6,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":5},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"jk2qBCxvq3bSS0291YT8E","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"IxuY5wET5VryAHzR5I3Z9","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"R2YcxyoUExPhamkUho4CH","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":5,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"MPPT 1 Mode","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nires_2025\")\r\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\r\n  |> filter(fn: (r) => r[\"_measurement\"] == \"solar_vehicle\")\r\n  |> filter(fn: (r) => r[\"_field\"] == \"MPPT1_Mode\")\r\n  |> filter(fn: (r) => r[\"ecu\"] == \"MPPT1\")\r\n  //|> last()\r\n  |> map(fn: (r) => ({\r\n      r with \r\n      _value: \r\n        if (int(v: r._value) >= 64) then 6 //bit 6 -> Fault\r\n        else if (int(v: r._value) >= 32) then 5 //bit 5 -> Temperature de-rating\r\n        else if (int(v: r._value) >= 16) then 4 //bit 4 -> Constant output current\r\n        else if (int(v: r._value) >= 8) then 3 //bit 3 -> Constant output voltage\r\n        else if (int(v: r._value) >= 4) then 2 //bit 2 -> Minimum input current\r\n        else if (int(v: r._value) >= 2) then 1 //bit 1 -> Constant input current\r\n        else if (int(v: r._value) == 1) then 0 //bit 0 -> Constant input voltage\r\n        else 0 \r\n    }))"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":6,"widthRatio":1,"xCol":"_time","xPos":6,"yCol":"_value"},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"jk2qBCxvq3bSS0291YT8E","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"IxuY5wET5VryAHzR5I3Z9","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"R2YcxyoUExPhamkUho4CH","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":5,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"MPPT2 Mode","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"nires_2025\")\r\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\r\n  |> filter(fn: (r) => r[\"_measurement\"] == \"solar_vehicle\")\r\n  |> filter(fn: (r) => r[\"_field\"] == \"MPPT2_Mode\")\r\n  |> filter(fn: (r) => r[\"ecu\"] == \"MPPT2\")\r\n  //|> last()\r\n  |> map(fn: (r) => ({\r\n      r with \r\n      _value: \r\n        if (int(v: r._value) >= 64) then 6 //bit 6 -> Fault\r\n        else if (int(v: r._value) >= 32) then 5 //bit 5 -> Temperature de-rating\r\n        else if (int(v: r._value) >= 16) then 4 //bit 4 -> Constant output current\r\n        else if (int(v: r._value) >= 8) then 3 //bit 3 -> Constant output voltage\r\n        else if (int(v: r._value) >= 4) then 2 //bit 2 -> Minimum input current\r\n        else if (int(v: r._value) >= 2) then 1 //bit 1 -> Constant input current\r\n        else if (int(v: r._value) == 1) then 0 //bit 0 -> Constant input voltage\r\n        else 0 \r\n    }))"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":6,"widthRatio":1,"xCol":"_time","xPos":6,"yCol":"_value","yPos":5}],"name":"MPPT Errors"}}]